<!DOCTYPE html>
<html>
<head>
    <title>Artscentre</title>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="../vendor/bootstrap/bootstrap.css" />
    <style>
        html.busy *
        {
            cursor: wait !important;
        }
        body
        {
            /* 60px to make the container go all the way to the bottom of the topbar */
            padding-top: 60px;
        }
    </style>
</head>
<body>

<div data-snippet="topnav">[topnav]</div>
<div class="container">
    <div data-snippet="main">
        <div data-snippet="splash">[splash]</div>
        <div data-snippet="skills">[skills]</div>
        <div data-snippet="projects">[projects]</div>
    </div>
</div>

<div data-snippet="login">[login]</div>
<div data-snippet="register">[register]</div>
<div data-snippet="create-project">[create-project]</div>


<script type="text/javascript" src="../vendor/jquery-1.8.3.js"></script>
<script type="text/javascript" src="../vendor/underscore.js"></script>
<script type="text/javascript" src="../vendor/underscore.string.js"></script>
<script type="text/javascript">_.mixin(_.string.exports());</script>
<script type="text/javascript" src="../vendor/bootstrap/bootstrap.js"></script>
<script type="text/javascript" src="../vendor/backbone.js"></script>
<script type="text/javascript" src="../vendor/json2.js"></script>
<script type="text/javascript" src="../vendor/jquery.mockjax.js"></script>
<script type="text/javascript" src="../vendor/require/require-2.1.4-debug.js"></script>

<script type="text/javascript" src="../api.js"></script><!-- should be via require -->
<script>
    (function(){
        "use strict";

        require.config({
            baseUrl: "../",
            paths: {
                text: 'vendor/require/text',
                css: 'vendor/require/css'
            }
            //,urlArgs: "bust=" + (new Date()).getTime()    // cache busting prevents breakpoints from being preserved across refresh.
        });


        // mock out the services for frontend development
        $.mockjaxSettings = {
            status:        200,
            responseTime:  1000,
            isTimeout:     false,
            contentType:   'text/json',
            response:      '',
            responseText:  '',
            responseXML:   '',
            proxy:         '',
            lastModified:  null,
            etag:          ''
        };

        $.mockjax({
            url: /\/api\/whoami$/
            ,type: 'GET'
            ,proxy: '/artscentre/mocks/whoami.json'
        });

        $.mockjax({
            url: /\/api\/list-skills-user-picker$/
            ,type: 'GET'
            ,proxy: '/artscentre/mocks/skills_dustingetz.json'
        });

        $.mockjax({
            url: /\/api\/update-user-skills$/
            ,type: 'POST'
            ,responseText: ''
        });

        // entry point
        require(['artscentre/home'], function(projects) {});

    })();
</script>

</body>
</html>